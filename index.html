<!doctype html>
<html>

<head>
   <title>Yu Chunju - me</title>

   <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
   <meta http-equiv="Cache-Control" content="no-transform" /> 
   <meta http-equiv="Cache-Control" content="no-siteapp" />
   <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
   <link href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"rel="stylesheet"type="text/css"/>
   <link href="nav.css"rel="stylesheet"type="text/css">

       <link rel="shortcut icon" href="https://github.com/yuchunju/art/blob/master/lib/pic/me01.png?raw=true">

  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
 
   <script src="https://cdn.jsdelivr.net/npm/p5@1.1.9/lib/p5.js"></script>

   <script src="background.js"></script> 
</head>

<body style="background-color:'#99CCFF'">
    <button class="translate" id="it"><img src="lib/it.png"></button>
    <button class="translate" id="zh"><img src="lib/zh.png"></button>
    <button class="translate" id="en"><img src="lib/en.png" ></button>
	
<nav>
 <li ><a href="https://yuchunju.github.io/art" class="lang" key="text1">Home</a></li>
 <li ><a href="https://yuchunju.github.io/art-works"  class="lang" key="text2">Next</a></li>

</nav>


<div>
<p class="lang" key="text3"></p>
<br>
<p class="lang" key="text4"></pa> <br>
</div>
 
<script>
var arrLang = {
  "en": {
  "text1" : "Home",
  "text2" : "Next",
  "text3" : "Click my head, if i block your sight!",
  "text4" : "I am...",

  },
  "zh": {
  "text1" : "主页",
  "text2" : "下一页",
  "text3" : "如果我挡住了你的视线，请点击我的头！",
  "text4" : "我是。。。",
  },
	  "it": {
  "text1" : "Home",
  "text2" : "prossimo",
  "text3" : "Fai clic sulla mia testa, se ti blocco la vista!",
  "text4" : "Io sono...",
  }
};

// The default language is English
var lang = "en";
// Check for localStorage support
if('localStorage' in window){
   
   var usrLang = localStorage.getItem('uiLang');
   if(usrLang) {
       lang = usrLang
   }

}


console.log(lang);

        $(document).ready(function() {

          $(".lang").each(function(index, element) {
            $(this).text(arrLang[lang][$(this).attr("key")]);
          });
        });

        // get/set the selected language
        $(".translate").click(function() {
          var lang = $(this).attr("id");

          // update localStorage key
          if('localStorage' in window){
               localStorage.setItem('uiLang', lang);
               console.log( localStorage.getItem('uiLang') );
          }

          $(".lang").each(function(index, element) {
            $(this).text(arrLang[lang][$(this).attr("key")]);
          });
        });
</script>
</body>
</html>
